window.Modernizr=window.Modernizr||function(a,b,c){function d(a){k.cssText=a}function e(a,b){return typeof a===b}var f,g,h={},i=b.documentElement,j=b.createElement("modernizr"),k=j.style,l=" -webkit- -moz- -o- -ms- ".split(" "),m={svg:"http://www.w3.org/2000/svg"},n={},o=[],p=o.slice,q={}.hasOwnProperty;g=e(q,"undefined")||e(q.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return q.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=p.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(p.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(p.call(arguments)))};return d}),n.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==m.svg};for(var r in n)g(n,r)&&(f=r.toLowerCase(),h[f]=n[r](),o.push((h[f]?"":"no-")+f));return h.addTest=function(a,b){if("object"==typeof a)for(var d in a)g(a,d)&&h.addTest(d,a[d]);else{if(a=a.toLowerCase(),h[a]!==c)return h;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(i.className+=" "+(b?"":"no-")+a),h[a]=b}return h},d(""),j=null,h._version="2.8.3",h._prefixes=l,h}(0,this.document),Modernizr.addTest("cssfilters",function(){var a=document.createElement("div");return a.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!a.style.length&&(void 0===document.documentMode||document.documentMode>9)}),Modernizr.addTest("svgfilters",function(){var a=!1;try{a=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(a){}return a}),function(a,b,c,d){function e(b,c){var d,e;c=c||{},d=c.classes||{},e=d.fade||g.classes.fade,c.fade=c.fade||b.className.indexOf(e)>-1,this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="gray",g={fade:!1,classes:{fade:"grayscale-fade"}};a.extend(e.prototype,{init:function(){var b;!Modernizr.cssfilters&&Modernizr.inlinesvg&&Modernizr.svgfilters&&(b=a(this.element),(this.cssFilterDeprecated(b)||this.settings.fade)&&this.switchImage(b))},cssFilterDeprecated:function(a){return"none"===a.css("filter")},elementType:function(a){return"IMG"===a.prop("tagName")?"Img":"Bg"},getComputedStyle:function(a){var c={},d={};c=b.getComputedStyle(a,null);for(var e=0,f=c.length;e<f;e++){var g=c[e],h=c.getPropertyValue(g);d[g]=h}return d},extractUrl:function(a){return startRegex=/^url\(["']?/,endRegex=/["']?\)$/,a.replace(startRegex,"").replace(endRegex,"")},positionToNegativeMargin:function(a){var b,c;return b=a.match(/^(-?\d+\S+)/)[0],c=a.match(/\s(-?\d+\S+)$/)[0],"margin:"+c+" 0 0 "+b},getBgSize:function(b,c){var d,e,f,g,h,i;if(d=new Image,d.src=b,"auto"!==c&&"cover"!==c&&"contain"!==c&&"inherit"!==c){var j=a(this.element);e=d.width/d.height,g=parseInt((c.match(/^(\d+)px/)||[0,0])[1]),i=parseInt((c.match(/\s(\d+)px$/)||[0,0])[1]),f=j.height()*e,h=j.width()/e,g=g||f,i=i||h}return g||i?{width:g,height:i}:{width:d.width,height:d.height}},getParams:function(a){return this["get"+this.elementType(a)+"Params"](a)},getImgParams:function(a){var b={};return b.styles=this.getComputedStyle(a[0]),b.svg={url:a[0].src,width:b.styles.width.replace("px",""),height:b.styles.height.replace("px",""),offset:""},b},getBgParams:function(b){var c,d={};return c=this.extractUrl(b.css("background-image")),bgSize=this.getBgSize(c,b.css("background-size")),offset=this.positionToNegativeMargin(b.css("background-position")),d.styles=this.getComputedStyle(b[0]),d.svg=a.extend({url:c},bgSize,{offset:offset}),d},setStyles:function(a,b,c,d){return a.display="inline-block",a.overflow=a["overflow-x"]=a["overflow-y"]="hidden",a["background-image"]='url("'+b+'")',a["background-size"]=c+"px "+d+"px",delete a.filter,a},addSVGFilterOnce:function(){$body=a("body"),$body.data("plugin_"+f+"_has_filter")||$body.data("plugin_"+f+"_has_filter","true").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute"><defs><filter id="gray"><feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"></feColorMatrix></filter></defs></svg>')},switchImage:function(b){var c,d,e;c=this.getParams(b),d=this.settings.fade?this.settings.classes.fade:"",e=a('<div class="grayscale grayscale-replaced '+d+'"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+c.svg.width+" "+c.svg.height+'" width="'+c.svg.width+'" height="'+c.svg.height+'" style="'+c.svg.offset+'"><image filter="url(&quot;#gray&quot;)" x="0" y="0" width="'+c.svg.width+'" height="'+c.svg.height+'" preserveAspectRatio="none" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+c.svg.url+'" /></svg></div>'),c.styles=this.setStyles(c.styles,c.svg.url,c.svg.width,c.svg.height),e.css(c.styles),this.addSVGFilterOnce(),b.replaceWith(e)}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}),this},a(b).on("load",function(){a(".grayscale:not(.grayscale-replaced)")[f]()})}(jQuery,window,document);
//# sourceMappingURL=jquery.gray.min.js.map